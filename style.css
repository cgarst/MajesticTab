body { margin:0; padding:0; height:100vh; display:flex; flex-direction:column; background:#f8f9fa; }
canvas { display:block; margin:0 auto; background:white; }
.pageContainer { display:flex; align-items:flex-start; justify-content:center; width:100%; height:100%; overflow:hidden; gap:10px; }
.pageWrapper { position:relative; overflow:hidden; background:white; border:2px solid #ccc; border-radius:4px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
.pageNumber { position:absolute; bottom:5px; right:5px; background:rgba(255,255,255,0.8); padding:2px 5px; font-size:12px; }
#progressContainer { width:100%; height:8px; background:#ddd; margin:5px 0; border-radius:5px; overflow:hidden; display:none; }
#progressBar { height: 100%; width:0%; background: #9966cc; transition: width 0.2s; }
@keyframes indeterminate {
  0% { left: -40%; width: 40%; }
  50% { left: 30%; width: 30%; }
  100% { left: 100%; width: 40%; }
}

.indeterminate {
  position: relative;
  animation: indeterminate 1.2s infinite linear;
}
.navbar .toolbar-items { display:flex; flex-wrap: nowrap; align-items:center; gap:0.5rem; justify-content:center; width:100%; }
#navButtons { display:none; align-items:center; gap:0.5rem; }

/* --- Custom Colors --- */
.navbar { background-color: #3a3f44 !important; color:white; }
.navbar .navbar-brand, .navbar .btn, .navbar .btn-check + label { color:white; }
.navbar .btn-outline-primary { color: #9966cc; border-color: #9966cc; }
.navbar .btn-outline-primary:hover { background-color: #884dbc; color:white; }
.btn-check:checked + label.btn-outline-primary,
.btn-outline-primary.active {
    background-color: #9966cc !important;
    border-color: #9966cc !important;
    color: white !important;
}
.navbar .btn-primary { background-color: #9966cc; border-color: #9966cc; color:white; }
.navbar .btn-primary:hover { background-color: #884dbc; border-color: #884dbc; color:white; }

/* Offcanvas Menu */
.offcanvas { background-color: #2f343a; color:white; }
.offcanvas .form-control { background-color: #3a3f44; color:white; border-color: #5c5c5c; }
.offcanvas .form-control:focus { background-color: #3a3f44; color:white; border-color: #9966cc; box-shadow: 0 0 0 0.2rem rgba(153,102,204,0.25); }
.offcanvas .form-check-input:checked { background-color: #9966cc; border-color: #9966cc; }
.offcanvas .form-check-label { color:white; }

/* Range/Slider inputs */
input[type=range]::-webkit-slider-thumb { background: #9966cc; }
input[type=range]::-moz-range-thumb { background: #9966cc; }

#output {
  flex: 1;
  width: 100%;
  overflow-y: auto;   /* allow vertical scrolling */
  overflow-x: hidden;
  background: #f8f9fa;
}

/* Scrollbar for continuous mode */
#output::-webkit-scrollbar { width:8px; }
#output::-webkit-scrollbar-track { background:#ccc; }
#output::-webkit-scrollbar-thumb { background:#9966cc; border-radius:4px; }

/* Buttons */
.btn-outline-primary { 
    color: #9966cc;
    border-color: #9966cc;
}
.btn-outline-primary:hover {
    background-color: #9966cc;
    color: white;
    border-color: #9966cc;
} 
.btn-outline-primary:focus {
    background-color: #9966cc;
    color: white;
    border-color: #9966cc;
}
.btn-outline-primary:active {
    background-color: #9966cc;
    color: white;
    border-color: #9966cc;
}

.navbar {
  flex-wrap: nowrap !important;
  overflow-x: auto;
}
.navbar .toolbar-items {
  flex-wrap: nowrap !important;
}
.navbar-brand {
  white-space: nowrap;
}

.navbar .btn:focus,
.navbar .btn-check:focus + label {
    outline: none !important;
    box-shadow: none !important;
}

span.me-2 {
    margin-right: 0px !important
}

/* Dark mode */
body.dark-mode {
    background-color: #1e1e1e;
    color: #ddd;
}

body.dark-mode #output {
    background-color: #1e1e1e;
}

body.dark-mode .pageWrapper {
    background-color: #000000;
    border-color: #444;
    box-shadow: 0 2px 6px rgba(0,0,0,0.7);
}

body.dark-mode canvas {
    filter: invert(1) hue-rotate(180deg);
}

body.dark-mode .navbar,
body.dark-mode .offcanvas {
    background-color: #2c2c2c !important;
    color: #ddd;
}

body.dark-mode .btn-outline-primary {
    color: #9966cc;
    border-color: #9966cc;
}

body.dark-mode .btn-outline-primary:hover {
    background-color: #884dbc;
    color: white;
}

body.dark-mode #output {
    background-color: #2c2c2c !important;
}

body.dark-mode .pageNumber {
    background-color: #2c2c2c;
}

/* Ensure all AlphaTab symbols use the correct font */
g.at text {
    font-family: 'alphaTab' !important;
}

body.dark-mode #output svg text {
  fill: white !important;
}
