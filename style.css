body {
    margin: 0;
    padding: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    background: #f8f9fa;
    overflow: hidden;
}

#output {
    overscroll-behavior: contain;
    width: 100%;
    min-height: 0;
    flex: 1;
    overflow: hidden;
    background: #f8f9fa;
    display: flex;
    flex-direction: column;
}

#topBar {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: white;
}

#mainContent {
    flex: 1;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    position: relative;
    min-height: 0;
    width: 100%;
}

#output {
    transform-origin: 0 0;
    will-change: transform;
    position: relative;
    min-height: 0;
    height: 100%;
}
.btn-check:focus + .btn, .btn:focus { box-shadow: none !important; }
.btn-check + .btn { pointer-events: auto !important; }
canvas { display:block; margin:0 auto; background:white; max-width:100%; height:auto; }
:root {
    --page-bg-color: white;
    --text-color: black;
    --border-color: #ddd;
    --page-shadow: 0 2px 6px rgba(0,0,0,0.1);
    --separator-color: #ccc;
    --page-padding: 20px;
}

/* Outer container styles */
.outer-container {
    width: 100%;
    height: 100%;
    background-color: var(--page-bg-color);
    overflow: hidden;
}

/* Page container styles */
.pageContainer { 
    display: flex; 
    justify-content: center; 
    align-items: flex-start; 
    gap: 20px; 
    padding: var(--page-padding);
    min-height: 100%;
    box-sizing: border-box;
    overflow: hidden;
    width: 100%;
    height: 100%;
}

/* Page wrapper styles */
.pageWrapper { 
    position: relative;
    width: 100%;
    height: 100%;
    min-height: calc(100vh - 80px);
    background-color: var(--page-bg-color);
    color: var(--text-color);
    box-shadow: var(--page-shadow);
    border: 1px solid var(--border-color);
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    max-width: 95%;
    overflow: hidden;
}

/* Page content styles */
.pageWrapper > div {
    margin: 0;
    padding: var(--page-padding);
    width: 100%;
    flex: 1;
    box-sizing: border-box;
    font-size: 14px;
    font-family: monospace;
    line-height: 1.5;
}
.pageNumber { position:absolute; bottom:5px; right:5px; background:rgba(255,255,255,0.8); padding:2px 5px; font-size:12px; }
#progressContainer { width:100%; height:8px; background:#ddd; margin:5px 0; border-radius:5px; overflow:hidden; display:none; }
#progressBar { height: 100%; width:0%; background: #9966cc; transition: width 0.2s; }
@keyframes indeterminate {
  0% { left: -40%; width: 40%; }
  50% { left: 30%; width: 30%; }
  100% { left: 100%; width: 40%; }
}

.indeterminate {
  position: relative;
  animation: indeterminate 1.2s infinite linear;
}
.navbar { 
    background-color: #3a3f44 !important; 
    color: white;
    padding-top: 0.3rem !important;
    padding-bottom: 0.3rem !important;
    position: relative;
}

#modeButtons {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
}

#navButtons { 
    display: none; 
    align-items: center; 
    gap: 0.5rem;
    white-space: nowrap;
}

#pageIndicator { 
    display: inline-block;
    white-space: nowrap;
    min-width: 4em;
    text-align: center;
    margin: 0;
    padding: 0;
}

/* --- Custom Colors --- */
.navbar .navbar-brand, .navbar .btn, .navbar .btn-check + label { color:white; }
.navbar .btn-outline-primary { color: #9966cc; border-color: #9966cc; }
.navbar .btn-outline-primary:hover { background-color: #884dbc; color:white; }
.btn-check:checked + label.btn-outline-primary,
/* Hovered or currently pressed */
.btn-outline-primary:hover,
.btn-outline-primary:active {
    background-color: #9966cc;
    color: white;
    border-color: #9966cc;
}

/* Remove focus styles */
.btn-outline-primary:focus {
    background-color: transparent;
    color: #9966cc;
    border-color: #9966cc;
    box-shadow: none;
}
.navbar .btn-primary { background-color: #9966cc; border-color: #9966cc; color:white; }
.navbar .btn-primary:hover { background-color: #884dbc; border-color: #884dbc; color:white; }

/* Offcanvas Menu */
.offcanvas { background-color: #2f343a; color:white; }
.offcanvas .form-control { background-color: #3a3f44; color:white; border-color: #5c5c5c; }
.offcanvas .form-control:focus { background-color: #3a3f44; color:white; border-color: #9966cc; box-shadow: 0 0 0 0.2rem rgba(153,102,204,0.25); }
.offcanvas .form-check-input:checked { background-color: #9966cc; border-color: #9966cc; }
.offcanvas .form-check-label { color:white; }

/* Range/Slider inputs */
input[type=range]::-webkit-slider-thumb { background: #9966cc; }
input[type=range]::-moz-range-thumb { background: #9966cc; }

#output {
    flex: 1;
    width: 100%;
    overflow-y: auto;   /* allow vertical scrolling */
    overflow-x: hidden;
    background: #f8f9fa;
}

/* Tab section styles */
.tab-section-container {
    break-inside: avoid-page;
    break-before: avoid-page;
}

/* Section separator styles */
.section-separator {
    margin: 1em 0;
    border-top: 1px solid var(--separator-color);
    break-after: avoid-page;
}

/* Text content styles */
.text-content {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--page-padding);
    font-family: monospace;
    line-height: 1.5;
    background-color: var(--page-bg-color);
    color: var(--text-color);
    box-shadow: var(--page-shadow);
    border: 1px solid var(--border-color);
    box-sizing: border-box;
    font-size: 14px;
}

/* Scrollbar for continuous mode */
#output::-webkit-scrollbar { width:8px; }
#output::-webkit-scrollbar-track { background:#ccc; }
#output::-webkit-scrollbar-thumb { background:#9966cc; border-radius:4px; }

/* Buttons */
.btn-outline-primary { 
    color: #9966cc;
    border-color: #9966cc;
}
.btn-outline-primary:hover {
    background-color: #9966cc;
    color: white;
    border-color: #9966cc;
} 
.btn-outline-primary:active {
    background-color: #9966cc;
    color: white;
    border-color: #9966cc;
}

.navbar {
  flex-wrap: nowrap !important;
  overflow-x: auto;
}
.navbar .toolbar-items {
  flex-wrap: nowrap !important;
}
.navbar-brand {
  white-space: nowrap;
}

.navbar .btn:focus,
.navbar .btn-check:focus + label {
    outline: none !important;
    box-shadow: none !important;
}

span.me-2 {
    margin-right: 0px !important
}

/* Dark mode */
body.dark-mode {
    background-color: #1e1e1e;
    color: #ddd;
    --page-bg-color: #2c2c2c;
    --text-color: #ddd;
    --border-color: #444;
    --page-shadow: 0 2px 6px rgba(0,0,0,0.7);
    --separator-color: #444;
}

body.dark-mode #output {
    background-color: #1e1e1e;
}

body.dark-mode .pageWrapper {
    background-color: #000000;
    border-color: #444;
    box-shadow: 0 2px 6px rgba(0,0,0,0.7);
}

body.dark-mode .alphaTabContainer {
    background-color: #000000;
}

body.dark-mode .alphaTabContainer > div {
    background-color: #000000;
}

body.dark-mode canvas {
    filter: invert(1) hue-rotate(180deg);
}

body.dark-mode .navbar,
body.dark-mode .offcanvas {
    background-color: #2c2c2c !important;
    color: #ddd;
}

body.dark-mode .btn-outline-primary {
    color: #9966cc;
    border-color: #9966cc;
}

body.dark-mode .btn-outline-primary:hover {
    background-color: #884dbc;
    color: white;
}

body.dark-mode #output {
    background-color: #2c2c2c !important;
}

body.dark-mode .pageNumber {
    background: rgba(44, 44, 44, 0.8);
    color: #ddd;
}

body.dark-mode .chord-lyric-segment span[style*="color: rgb(44, 82, 130)"] {
    color: #7eb6ff !important;
}

body.dark-mode .pageNumber {
    background-color: #2c2c2c;
}

/* Ensure all AlphaTab symbols use the correct font */
g.at text {
    font-family: 'alphaTab' !important;
}

body.dark-mode #output svg text {
  fill: white !important;
}

/* Phone UI scaling */
@media (max-width: 768px) {
  /* Navbar buttons: wrap instead of scroll */
  .navbar .btn,
  .navbar .btn-sm {
    padding: 0.25rem 0.4rem;  /* slightly smaller buttons */
    margin-right: 0.25rem !important; /* override .me-2 */
  }

  .navbar .btn-group {
    margin-right: 0.25rem; /* tighten spacing between button groups */
  }

  .navbar .toolbar-items {
    gap: 0.25rem;  /* reduce gap between toolbar items */
  }

  .navbar {
    flex-wrap: nowrap !important;  /* prevent wrapping */
    justify-content: flex-start;   /* align items to left */
  }

  /* Page containers: single column, full width */
  .pageContainer {
    flex-direction: column;
    align-items: center;
    gap: 5px;
  }
  .pageWrapper {
    width: 95% !important;   /* shrink to fit phone */
    height: auto !important;
    border-width: 1px;
  }
  .pageWrapper canvas {
    width: 100% !important;
    height: auto !important;
  }

  /* Page number text smaller */
  .pageNumber {
    font-size: 10px;
    padding: 1px 4px;
  }

  /* Progress bar slimmer */
  #progressContainer {
    height: 5px;
  }

  #brand-text {
    display: none;
  }

  
}
